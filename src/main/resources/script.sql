CREATE DATABASE spedizioni;

USE DATABASE spedizioni;

CREATE TABLE ARTICOLO(
    ID_ARTICOLO INT NOT NULL AUTO_INCREMENT,
    CODICE VARCHAR(100) NOT NULL,
    DESCRIZIONE VARCHAR(100) NOT NULL,
    PESO DOUBLE NOT NULL,
    PRIMARY KEY(ID_ARTICOLO)
);

CREATE TABLE ORDINE(
    ID_ORDINE INT NOT NULL AUTO_INCREMENT,
    NUMERO INT NOT NULL,
    DATA_ORDINE DATE NOT NULL,
    PRIMARY KEY(ID_ORDINE)
);

CREATE TABLE TARIFFA_CORRIERE(
    ID_TARIFFA_CORRIERE INT NOT NULL AUTO_INCREMENT,
    NOME_CORRIERE VARCHAR(100) NOT NULL,
    NOME_TARIFFA VARCHAR(100) NOT NULL,
    PESO_MASSIMO FLOAT NOT NULL,
    COSTO DOUBLE NOT NULL,
    PRIMARY KEY(ID_TARIFFA_CORRIERE)
);

CREATE TABLE VOCE(
    ID_VOCE INT NOT NULL AUTO_INCREMENT,
    ID_ORDINE INT NOT NULL,
    ID_ARTICOLO INT NOT NULL,
    QUANTITA INT NOT NULL,
    PRIMARY KEY(ID_VOCE),
    FOREIGN KEY(ID_ORDINE) REFERENCES ORDINE(ID_ORDINE),
    FOREIGN KEY(ID_ARTICOLO) REFERENCES ARTICOLO(ID_ARTICOLO)
);

INSERT INTO articolo (CODICE, DESCRIZIONE, PESO)
VALUES
('PNDRV8','Pen drive USB 8G no brand', 0.15),
('DCP-J715E','Stampante Brother DCP J715 W', 5.3),
('LNVCX1','Notebook Lenovo Carbon X1', 1.9),
('ALCPPC3','Smartphone Alcatel POP C3', 0.53),
('BSHT1R','Ampli Combo valvolare BlackStar HT 1-R', 6.00);

INSERT INTO tariffa_corriere (NOME_CORRIERE, NOME_TARIFFA, PESO_MASSIMO, COSTO)
VALUES
('SDA','Economy', 1, 5.90),
('SDA','Veloce', 5, 7.90),
('SDA','Bigbox', 30, 12.90),
('DHL','Veloce', 1.5, 6.50),
('DHL','Assicurata', 7.5, 9.90),
('DHL','XXL', 40, 13.90),
('UPS','Economy', 0.7, 5.20),
('UPS','Standard', 3, 6.90),
('UPS','Kumbo', 25, 11.50);

INSERT INTO ordine(NUMERO, DATA_ORDINE)
VALUES
(123, '2025-12-01'),
(135, '2025-12-10'),
(246, '2026-01-17'),
(321, '2026-01-23'),
(456, '2026-02-07'),
(654, '2026-02-08'),
(680, '2026-03-02'),
(789, '2026-03-11'),
(987, '2026-03-18');

INSERT INTO voce(ID_ORDINE, ID_ARTICOLO, QUANTITA)
VALUES
(1, 3, 2),
(2, 2, 1),
(2 ,3, 1),
(3, 3, 1),
(3, 4, 1),
(4, 1, 2),
(4, 4, 1),
(5, 4, 2),
(5, 1, 1),
(6, 1, 3),
(7, 2, 7),
(8, 5, 1),
(8, 3, 1),
(9, 5, 6);